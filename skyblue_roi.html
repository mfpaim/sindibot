<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora ROI - SkyBlue WhatsApp Intelligence</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .scenarios {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
        }

        .scenarios h3 {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .scenario-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .scenario-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .scenario-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        .input-section {
            padding: 40px;
            background: #f8f9fa;
            border-right: 1px solid #e0e0e0;
        }

        .results-section {
            padding: 40px;
            background: white;
        }

        .section-title {
            font-size: 1.5em;
            color: #1e3c72;
            margin-bottom: 25px;
            font-weight: 600;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .helper-text {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .metric-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-left: 5px solid #ffd700;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .metric-detail {
            font-size: 0.85em;
            opacity: 0.7;
        }

        .benefits-list {
            margin-top: 30px;
        }

        .benefit-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #28a745;
        }

        .benefit-item strong {
            color: #1e3c72;
            display: block;
            margin-bottom: 5px;
        }

        .intangible-section {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #fff5e6 0%, #ffe6cc 100%);
            border-radius: 12px;
            border: 2px solid #ff9800;
        }

        .intangible-section h3 {
            color: #e65100;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .intangible-item {
            padding: 10px 0;
            border-bottom: 1px solid #ffcc80;
        }

        .intangible-item:last-child {
            border-bottom: none;
        }

        .pricing-section {
            margin-top: 30px;
            padding: 20px;
            background: #e3f2fd;
            border-radius: 12px;
            border: 2px solid #2196f3;
        }

        .roi-chart {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .bar {
            height: 40px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            padding: 0 15px;
            color: white;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            100% {
                left: 100%;
            }
        }

        @media (max-width: 968px) {
            .content {
                grid-template-columns: 1fr;
            }

            .input-section {
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }
        }

        .methodology {
            margin-top: 40px;
            padding: 25px;
            background: #f1f3f4;
            border-radius: 12px;
            font-size: 0.9em;
            color: #555;
        }

        .methodology h4 {
            color: #1e3c72;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ SkyBlue ROI Calculator</h1>
            <p>Descubra quanto sua empresa pode economizar e ganhar em efici√™ncia</p>
            
            <div class="scenarios">
                <h3>üìä Selecione seu Setor:</h3>
                <div class="scenario-buttons">
                    <button class="scenario-btn" onclick="loadScenario('condominio')">üè¢ Administradora de Condom√≠nios</button>
                    <button class="scenario-btn" onclick="loadScenario('varejo')">üõí Varejo Multi-Loja</button>
                    <button class="scenario-btn" onclick="loadScenario('restaurante')">üçï Restaurantes / Pizzarias</button>
                    <button class="scenario-btn" onclick="loadScenario('farmacia')">üíä Rede de Farm√°cias</button>
                    <button class="scenario-btn" onclick="loadScenario('franquia')">üè™ Franquia</button>
                    <button class="scenario-btn" onclick="loadScenario('facilities')">üîß Facilities / Manuten√ß√£o</button>
                    <button class="scenario-btn" onclick="loadScenario('servicos')">üíº Servi√ßos B2B</button>
                    <button class="scenario-btn" onclick="loadScenario('custom')">‚úèÔ∏è Personalizar do Zero</button>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="input-section">
                <h2 class="section-title">Informa√ß√µes do Cliente</h2>

                <div class="input-group">
                    <label>Nome da Empresa/Neg√≥cio</label>
                    <input type="text" id="businessName" placeholder="Ex: Supermercados S√£o Jos√©">
                    <div class="helper-text">Nome que aparecer√° no or√ßamento</div>
                </div>

                <div class="input-group">
                    <label>Respons√°vel pela Negocia√ß√£o</label>
                    <input type="text" id="contactName" placeholder="Ex: Jo√£o Silva">
                    <div class="helper-text">Nome do decisor ou contato principal</div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Estrutura da Opera√ß√£o</h2>

                <div class="input-group">
                    <label>Tipo de Neg√≥cio</label>
                    <select id="businessType">
                        <option value="condominio">Administradora de Condom√≠nios</option>
                        <option value="varejo">Varejo (Supermercados, Lojas)</option>
                        <option value="restaurante">Restaurantes / Pizzarias</option>
                        <option value="farmacia">Farm√°cias</option>
                        <option value="franquia">Franquia</option>
                        <option value="facilities">Facilities / Manuten√ß√£o</option>
                        <option value="servicos">Servi√ßos B2B</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>N√∫mero de Unidades/Lojas/Clientes</label>
                    <input type="number" id="numUnits" value="20" min="1">
                    <div class="helper-text">Quantos locais, condom√≠nios, lojas ou clientes opera?</div>
                </div>

                <div class="input-group">
                    <label>N√∫mero de Grupos do WhatsApp</label>
                    <input type="number" id="numGroups" value="150" min="1">
                    <div class="helper-text">Total de grupos que a empresa gerencia</div>
                </div>

                <div class="input-group">
                    <label>Composi√ß√£o dos Grupos</label>
                    <select id="groupComposition">
                        <option value="interno">Apenas equipes internas</option>
                        <option value="misto" selected>Misto (internos + clientes/fornecedores)</option>
                        <option value="externo">Principalmente clientes/fornecedores</option>
                    </select>
                    <div class="helper-text">Isso afeta o risco de perder mensagens cr√≠ticas</div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Volume de Comunica√ß√£o</h2>

                <div class="input-group">
                    <label>Mensagens Di√°rias (m√©dia)</label>
                    <input type="number" id="dailyMessages" value="600" min="1">
                    <div class="helper-text">Aproximadamente quantas mensagens a empresa recebe por dia?</div>
                </div>

                <div class="input-group">
                    <label>% Mensagens que Geram Retrabalho</label>
                    <input type="number" id="reworkPercent" value="20" min="0" max="100">
                    <div class="helper-text">Mensagens perdidas, duplicadas ou mal gerenciadas</div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Equipe Operacional</h2>

                <div class="input-group">
                    <label>Pessoas Dedicadas a Responder WhatsApp</label>
                    <input type="number" id="numEmployees" value="2" min="0" step="0.5">
                    <div class="helper-text">Funcion√°rios que trabalham respondendo mensagens</div>
                </div>

                <div class="input-group">
                    <label>Sal√°rio M√©dio Mensal Desses Funcion√°rios (R$)</label>
                    <input type="number" id="avgSalary" value="3500" min="0">
                    <div class="helper-text">Sal√°rio m√©dio de quem gerencia WhatsApp</div>
                </div>

                <div class="input-group">
                    <label>Horas por Dia Dedicadas ao WhatsApp</label>
                    <input type="number" id="hoursPerDay" value="5" min="0" max="24" step="0.5">
                    <div class="helper-text">Horas di√°rias gastas gerenciando mensagens</div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Gestores de Unidade</h2>

                <div class="input-group">
                    <label>Gestores/Gerentes de Unidade</label>
                    <input type="number" id="managersOnCall" value="8" min="0">
                    <div class="helper-text">Gerentes de loja/unidade que ficam "presos" ao WhatsApp</div>
                </div>

                <div class="input-group">
                    <label>Valor Hora Produtiva desses Gestores (R$)</label>
                    <input type="number" id="managerProductiveHourValue" value="180" min="0">
                    <div class="helper-text">Quanto vale 1 hora deles focados na opera√ß√£o presencial?</div>
                </div>

                <div class="input-group">
                    <label>Interrup√ß√µes por WhatsApp por Dia (por gestor)</label>
                    <input type="number" id="dailyInterruptions" value="35" min="0">
                    <div class="helper-text">Quantas vezes por dia precisam checar mensagens?</div>
                </div>

                <div class="input-group">
                    <label>Tempo de Recupera√ß√£o de Foco (minutos)</label>
                    <input type="number" id="refocusTime" value="8" min="1" max="30">
                    <div class="helper-text">Tempo para voltar a se concentrar (pesquisas: 5-23 min)</div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Incidentes Cr√≠ticos</h2>

                <div class="input-group">
                    <label>Incidentes Cr√≠ticos Perdidos/Atrasados por M√™s</label>
                    <input type="number" id="criticalIncidents" value="4" min="0">
                    <div class="helper-text">Situa√ß√µes urgentes que "se perdem" e viram problemas maiores</div>
                </div>

                <div class="input-group">
                    <label>Custo M√©dio por Incidente (R$)</label>
                    <input type="number" id="incidentCost" value="3500" min="0">
                    <div class="helper-text">Cliente insatisfeito, multa, perda de venda, problema que escalou</div>
                </div>

                <button class="calculate-btn" onclick="calculateROI()">Calcular Benef√≠cios e ROI</button>
            </div>

            <div class="results-section" id="results">
                <h2 class="section-title">Seus Resultados</h2>
                <p style="color: #666; text-align: center; padding: 40px;">Preencha os dados e clique em "Calcular Benef√≠cios" para ver sua an√°lise personalizada.</p>
            </div>
        </div>
    </div>

    <script>
        // Fun√ß√£o para calcular pre√ßo recomendado baseado no porte
        function calculateRecommendedPricing(numGroups, numUnits, groupComposition) {
            // Setup: R$ 40-80 por grupo (conservador)
            let setupBase = numGroups * 60;
            
            // Mensalidade: R$ 8-15 por grupo
            let monthlyBase = numGroups * 10;
            
            // Ajustes por composi√ß√£o
            if (groupComposition === 'externo') {
                setupBase *= 1.2;
                monthlyBase *= 1.15;
            } else if (groupComposition === 'misto') {
                setupBase *= 1.1;
                monthlyBase *= 1.08;
            }
            
            // Ajuste por complexidade (n√∫mero de unidades)
            if (numUnits > 30) {
                setupBase *= 1.15;
                monthlyBase *= 1.1;
            } else if (numUnits > 15) {
                setupBase *= 1.08;
                monthlyBase *= 1.05;
            }
            
            // Arredondar para m√∫ltiplos de 500/100
            setupBase = Math.round(setupBase / 500) * 500;
            monthlyBase = Math.round(monthlyBase / 100) * 100;
            
            return {
                setup: setupBase,
                monthly: monthlyBase
            };
        }

        function loadScenario(type) {
            const scenarios = {
                condominio: {
                    businessType: 'condominio',
                    numUnits: 150,
                    numGroups: 200,
                    groupComposition: 'externo',
                    dailyMessages: 800,
                    reworkPercent: 25,
                    numEmployees: 3,
                    avgSalary: 3500,
                    hoursPerDay: 6,
                    managersOnCall: 4,
                    managerProductiveHourValue: 180,
                    dailyInterruptions: 30,
                    refocusTime: 7,
                    criticalIncidents: 5,
                    incidentCost: 3000
                },
                varejo: {
                    businessType: 'varejo',
                    numUnits: 20,
                    numGroups: 120,
                    groupComposition: 'misto',
                    dailyMessages: 550,
                    reworkPercent: 20,
                    numEmployees: 2,
                    avgSalary: 3200,
                    hoursPerDay: 5,
                    managersOnCall: 20,
                    managerProductiveHourValue: 200,
                    dailyInterruptions: 40,
                    refocusTime: 8,
                    criticalIncidents: 6,
                    incidentCost: 4000
                },
                restaurante: {
                    businessType: 'restaurante',
                    numUnits: 15,
                    numGroups: 90,
                    groupComposition: 'misto',
                    dailyMessages: 450,
                    reworkPercent: 30,
                    numEmployees: 1.5,
                    avgSalary: 2800,
                    hoursPerDay: 5,
                    managersOnCall: 15,
                    managerProductiveHourValue: 150,
                    dailyInterruptions: 45,
                    refocusTime: 6,
                    criticalIncidents: 8,
                    incidentCost: 2500
                },
                farmacia: {
                    businessType: 'farmacia',
                    numUnits: 25,
                    numGroups: 140,
                    groupComposition: 'misto',
                    dailyMessages: 600,
                    reworkPercent: 18,
                    numEmployees: 2,
                    avgSalary: 3300,
                    hoursPerDay: 5,
                    managersOnCall: 25,
                    managerProductiveHourValue: 180,
                    dailyInterruptions: 35,
                    refocusTime: 7,
                    criticalIncidents: 4,
                    incidentCost: 3200
                },
                franquia: {
                    businessType: 'franquia',
                    numUnits: 30,
                    numGroups: 160,
                    groupComposition: 'misto',
                    dailyMessages: 620,
                    reworkPercent: 22,
                    numEmployees: 2,
                    avgSalary: 3400,
                    hoursPerDay: 5,
                    managersOnCall: 30,
                    managerProductiveHourValue: 170,
                    dailyInterruptions: 38,
                    refocusTime: 7,
                    criticalIncidents: 5,
                    incidentCost: 3300
                },
                facilities: {
                    businessType: 'facilities',
                    numUnits: 50,
                    numGroups: 180,
                    groupComposition: 'externo',
                    dailyMessages: 650,
                    reworkPercent: 30,
                    numEmployees: 2.5,
                    avgSalary: 3800,
                    hoursPerDay: 5.5,
                    managersOnCall: 8,
                    managerProductiveHourValue: 170,
                    dailyInterruptions: 35,
                    refocusTime: 6,
                    criticalIncidents: 8,
                    incidentCost: 3500
                },
                servicos: {
                    businessType: 'servicos',
                    numUnits: 10,
                    numGroups: 100,
                    groupComposition: 'externo',
                    dailyMessages: 400,
                    reworkPercent: 20,
                    numEmployees: 2,
                    avgSalary: 3500,
                    hoursPerDay: 4,
                    managersOnCall: 5,
                    managerProductiveHourValue: 160,
                    dailyInterruptions: 25,
                    refocusTime: 7,
                    criticalIncidents: 3,
                    incidentCost: 2500
                },
                custom: {
                    businessType: 'outro',
                    numUnits: 10,
                    numGroups: 50,
                    groupComposition: 'misto',
                    dailyMessages: 200,
                    reworkPercent: 20,
                    numEmployees: 1,
                    avgSalary: 3000,
                    hoursPerDay: 4,
                    managersOnCall: 3,
                    managerProductiveHourValue: 150,
                    dailyInterruptions: 20,
                    refocusTime: 7,
                    criticalIncidents: 2,
                    incidentCost: 2000
                }
            };

            const scenario = scenarios[type];
            if (scenario) {
                Object.keys(scenario).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = scenario[key];
                    }
                });
                // Atualizar recomenda√ß√µes de pre√ßo ap√≥s carregar cen√°rio
                updatePricingRecommendations();
            }
        }

        function calculateROI() {
            // Capturar inputs b√°sicos
            const businessName = document.getElementById('businessName').value || 'Sua Empresa';
            const contactName = document.getElementById('contactName').value || '';
            const businessType = document.getElementById('businessType').value;
            const numUnits = parseFloat(document.getElementById('numUnits').value) || 0;
            const numGroups = parseFloat(document.getElementById('numGroups').value) || 0;
            const groupComposition = document.getElementById('groupComposition').value;
            const dailyMessages = parseFloat(document.getElementById('dailyMessages').value) || 0;
            const reworkPercent = parseFloat(document.getElementById('reworkPercent').value) || 0;
            
            // Equipe
            const numEmployees = parseFloat(document.getElementById('numEmployees').value) || 0;
            const avgSalary = parseFloat(document.getElementById('avgSalary').value) || 0;
            const hoursPerDay = parseFloat(document.getElementById('hoursPerDay').value) || 0;
            
            // Gestores
            const managersOnCall = parseFloat(document.getElementById('managersOnCall').value) || 0;
            const managerProductiveHourValue = parseFloat(document.getElementById('managerProductiveHourValue').value) || 0;
            const dailyInterruptions = parseFloat(document.getElementById('dailyInterruptions').value) || 0;
            const refocusTime = parseFloat(document.getElementById('refocusTime').value) || 0;
            
            // Incidentes
            const criticalIncidents = parseFloat(document.getElementById('criticalIncidents').value) || 0;
            const incidentCost = parseFloat(document.getElementById('incidentCost').value) || 0;
            
            // Calcular investimento recomendado
            const recommended = calculateRecommendedPricing(numGroups, numUnits, groupComposition);
            
            // Usar valores recomendados ou valores j√° editados pelo usu√°rio (se recalculando)
            let setupFee = recommended.setup;
            let monthlyFee = recommended.monthly;
            
            // Se j√° existem valores editados (recalculando), usar aqueles
            const existingSetup = document.getElementById('editSetupFee');
            const existingMonthly = document.getElementById('editMonthlyFee');
            if (existingSetup && existingMonthly) {
                setupFee = parseFloat(existingSetup.value) || setupFee;
                monthlyFee = parseFloat(existingMonthly.value) || monthlyFee;
            }

            // C√ÅLCULOS DE BENEF√çCIOS

            // 1. Custo Atual da Opera√ß√£o
            const monthlyEmployeeCost = numEmployees * avgSalary;
            const annualCurrentCost = monthlyEmployeeCost * 12;

            // 2. Tempo Desperdi√ßado
            const monthlyMessages = dailyMessages * 22;
            const avgTimePerMessage = 2.5; // minutos
            const totalMonthlyMinutes = monthlyMessages * avgTimePerMessage;
            const wastedTimePercent = reworkPercent / 100;
            const wastedMinutes = totalMonthlyMinutes * wastedTimePercent;
            const wastedHours = wastedMinutes / 60;
            const wastedCost = (wastedHours / 160) * avgSalary;

            // 3. Ganhos de Efici√™ncia (45%)
            const efficiencyGain = 0.45;
            const timeSaved = totalMonthlyMinutes * efficiencyGain;
            const hoursSaved = timeSaved / 60;
            const monthlySavings = (hoursSaved / 160) * avgSalary;

            // 4. Redu√ß√£o de Retrabalho (70%)
            const reworkReduction = 0.70;
            const reworkSavings = wastedCost * reworkReduction;

            // 5. Custo de Interrup√ß√µes (Context Switching)
            const workDaysPerMonth = 22;
            const monthlyInterruptions = dailyInterruptions * workDaysPerMonth * managersOnCall;
            const totalRefocusMinutes = monthlyInterruptions * refocusTime;
            const refocusHoursLost = totalRefocusMinutes / 60;
            const interruptionCost = refocusHoursLost * managerProductiveHourValue;

            // 6. Custo de Incidentes Cr√≠ticos
            let incidentMultiplier = 1.0;
            if (groupComposition === 'externo') incidentMultiplier = 1.3;
            else if (groupComposition === 'misto') incidentMultiplier = 1.15;
            
            const adjustedIncidents = criticalIncidents * incidentMultiplier;
            const monthlyIncidentCost = adjustedIncidents * incidentCost;
            
            // 80% de redu√ß√£o com SkyBlue
            const incidentReduction = 0.80;
            const incidentSavings = monthlyIncidentCost * incidentReduction;

            // 7. Investimento SkyBlue
            const annualFee = (monthlyFee * 12) + setupFee;

            // 8. Savings Totais
            const totalMonthlySavings = monthlySavings + reworkSavings + interruptionCost + incidentSavings;
            const totalAnnualSavings = totalMonthlySavings * 12;

            // 9. ROI
            const netAnnualBenefit = totalAnnualSavings - annualFee;
            const roi = ((netAnnualBenefit / annualFee) * 100).toFixed(0);
            const paybackMonths = annualFee > 0 ? (annualFee / totalMonthlySavings).toFixed(1) : 0;

            // 10. Produtividade Recuperada
            const hoursRecovered = (hoursSaved + refocusHoursLost).toFixed(0);
            const fteRecovered = (hoursRecovered / 160).toFixed(1);

            // Armazenar dados para PDF e rec√°lculo
            window.calculationData = {
                businessName,
                contactName,
                businessType,
                numUnits,
                numGroups,
                groupComposition,
                setupFee,
                monthlyFee,
                recommendedSetup: recommended.setup,
                recommendedMonthly: recommended.monthly,
                annualFee,
                totalMonthlySavings,
                totalAnnualSavings,
                netAnnualBenefit,
                roi,
                paybackMonths,
                monthlySavings,
                reworkSavings,
                interruptionCost,
                incidentSavings,
                hoursRecovered,
                fteRecovered,
                hoursSaved,
                refocusHoursLost,
                managersOnCall,
                dailyInterruptions,
                refocusTime,
                annualCurrentCost
            };

            // Renderizar Resultados
            const resultsHTML = `
                <div class="metric-card highlight">
                    <div class="metric-label">RETORNO SOBRE INVESTIMENTO (ROI)</div>
                    <div class="metric-value">${roi}%</div>
                    <div class="metric-detail">Payback em ${paybackMonths} meses</div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Economia Anual Total</div>
                    <div class="metric-value">R$ ${totalAnnualSavings.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
                    <div class="metric-detail">R$ ${totalMonthlySavings.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})} por m√™s</div>
                </div>

                <div style="background: #fff3e0; padding: 25px; border-radius: 12px; margin: 20px 0; border: 2px solid #ff9800;">
                    <h3 style="color: #e65100; margin-bottom: 15px; font-size: 1.2em;">üí∞ Investimento SkyBlue (Edit√°vel)</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; font-weight: 600; color: #333; margin-bottom: 5px; font-size: 0.9em;">
                                Setup (Implanta√ß√£o) - R$
                            </label>
                            <input type="number" id="editSetupFee" value="${setupFee}" min="0" step="100" 
                                   style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1.1em;">
                            <div style="font-size: 0.8em; color: #666; margin-top: 3px;">
                                Sugerido: R$ ${recommended.setup.toLocaleString('pt-BR')}
                            </div>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; color: #333; margin-bottom: 5px; font-size: 0.9em;">
                                Mensalidade - R$
                            </label>
                            <input type="number" id="editMonthlyFee" value="${monthlyFee}" min="0" step="50" 
                                   style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1.1em;">
                            <div style="font-size: 0.8em; color: #666; margin-top: 3px;">
                                Sugerido: R$ ${recommended.monthly.toLocaleString('pt-BR')}
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="calculateROI()" 
                            style="width: 100%; padding: 12px; background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); color: white; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer;">
                        üîÑ Recalcular com Novos Valores
                    </button>
                    
                    <div style="margin-top: 12px; padding: 12px; background: white; border-radius: 8px; font-size: 0.9em;">
                        <strong>Investimento Anual Total:</strong> R$ ${annualFee.toLocaleString('pt-BR', {minimumFractionDigits: 0})}
                        <br><small style="color: #666;">(Setup + 12 mensalidades)</small>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Benef√≠cio L√≠quido Anual</div>
                    <div class="metric-value">R$ ${netAnnualBenefit.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
                    <div class="metric-detail">Valor que fica na empresa ap√≥s investimento</div>
                </div>

                <div class="roi-chart">
                    <h3 style="color: #1e3c72; margin-bottom: 20px;">Compara√ß√£o: Ano 1 vs Situa√ß√£o Atual</h3>
                    <div>
                        <p style="margin-bottom: 5px; font-weight: 600;">Custo Atual (sem SkyBlue)</p>
                        <div class="bar" style="width: 100%;">R$ ${annualCurrentCost.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
                    </div>
                    <div style="margin-top: 20px;">
                        <p style="margin-bottom: 5px; font-weight: 600;">Custo com SkyBlue</p>
                        <div class="bar" style="width: ${((annualCurrentCost - netAnnualBenefit) / annualCurrentCost * 100)}%; background: linear-gradient(90deg, #28a745 0%, #20c997 100%);">
                            R$ ${(annualCurrentCost - netAnnualBenefit).toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}
                        </div>
                    </div>
                </div>

                <div class="benefits-list">
                    <h3 style="color: #1e3c72; margin-bottom: 20px;">üí∞ Benef√≠cios Tang√≠veis Detalhados</h3>
                    
                    <div class="benefit-item">
                        <strong>‚è±Ô∏è Ganho de Efici√™ncia Operacional</strong>
                        ${hoursSaved.toFixed(0)} horas recuperadas por m√™s = R$ ${monthlySavings.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}/m√™s
                        <br><small>45% de aumento na produtividade atrav√©s de categoriza√ß√£o autom√°tica e busca inteligente</small>
                    </div>

                    <div class="benefit-item">
                        <strong>üîÑ Elimina√ß√£o de Retrabalho</strong>
                        Redu√ß√£o de 70% em mensagens perdidas/duplicadas = R$ ${(reworkSavings).toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}/m√™s
                        <br><small>Sistema organizado evita informa√ß√µes perdidas e solicita√ß√µes redundantes</small>
                    </div>

                    <div class="benefit-item" style="border-left: 4px solid #ff6b6b;">
                        <strong>üß† Recupera√ß√£o de Foco e Elimina√ß√£o de Interrup√ß√µes</strong>
                        ${refocusHoursLost.toFixed(0)} horas de foco recuperadas = R$ ${interruptionCost.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}/m√™s
                        <br><small>${managersOnCall} gestores √ó ${dailyInterruptions} interrup√ß√µes/dia √ó ${refocusTime} min para retomar foco</small>
                        <br><small style="color: #d32f2f; font-weight: 600;">‚ö†Ô∏è Gestores "presos" ao celular voltam a focar na opera√ß√£o presencial</small>
                    </div>

                    <div class="benefit-item" style="border-left: 4px solid #ff6b6b;">
                        <strong>üö® Preven√ß√£o de Incidentes Cr√≠ticos</strong>
                        Economia de R$ ${incidentSavings.toLocaleString('pt-BR', {minimumFractionDigits: 0, maximumFractionDigits: 0})}/m√™s
                        <br><small>80% de redu√ß√£o em situa√ß√µes urgentes que "se perdem" e viram problemas maiores</small>
                        <br><small>Grupos ${groupComposition === 'externo' ? 'com clientes/fornecedores' : groupComposition === 'misto' ? 'mistos (internos + externos)' : 'apenas internos'} - risco ${groupComposition === 'externo' ? 'elevado' : groupComposition === 'misto' ? 'm√©dio' : 'controlado'}</small>
                        <br><small style="color: #d32f2f; font-weight: 600;">‚ö†Ô∏è Prioriza√ß√£o autom√°tica garante que o cr√≠tico seja visto imediatamente</small>
                    </div>

                    <div class="benefit-item">
                        <strong>üìä Capacidade Recuperada Total</strong>
                        Equivalente a ${fteRecovered} funcion√°rio(s) em tempo integral por m√™s
                        <br><small>Baseado em ${numUnits} unidades operacionais com ${numGroups} grupos ativos</small>
                    </div>
                </div>

                <div style="margin-top: 30px; text-align: center;">
                    <button class="calculate-btn" onclick="generatePDF()" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                        üìÑ Gerar Proposta em PDF
                    </button>
                </div>

                <div class="intangible-section">
                    <h3>üåü Benef√≠cios Intang√≠veis (Alto Impacto Estrat√©gico)</h3>
                    
                    <div class="intangible-item">
                        <strong>üéØ Liberta√ß√£o dos Gestores: "Olho no SkyBlue, N√£o no WhatsApp"</strong>
                        <p><em>Este √© o diferencial cr√≠tico:</em> Com ${numUnits} unidades e ${managersOnCall} gestores, cada um pode finalmente LARGAR o celular. Uma √∫nica interface priorizada substitui alternar entre ${numGroups} grupos. <strong>Gestores voltam a estar presentes na opera√ß√£o, atendendo clientes, liderando equipes.</strong></p>
                    </div>

                    <div class="intangible-item">
                        <strong>üß† Fim da Fadiga Cognitiva</strong>
                        <p>Pesquisas mostram que cada interrup√ß√£o leva 5-23 minutos para recuperar foco. Com dezenas de interrup√ß√µes di√°rias, profissionais operam em modo "sempre parcialmente focado". SkyBlue elimina 80% dessas interrup√ß√µes.</p>
                    </div>

                    <div class="intangible-item">
                        <strong>üìä Decis√µes Baseadas em Dados (Valor Estrat√©gico para Diretoria)</strong>
                        <p>Gr√°ficos e funcionalidade "Fale com seus Dados" (chat com o banco de dados) revelam padr√µes invis√≠veis. Diretoria pode perguntar: "Quais ${businessType === 'varejo' ? 'lojas' : businessType === 'condominio' ? 'condom√≠nios' : 'unidades'} t√™m mais reclama√ß√µes?" ou "Qual hor√°rio tem mais demandas?" e receber respostas instant√¢neas. <strong>Transforma caos em intelig√™ncia estrat√©gica.</strong></p>
                    </div>

                    <div class="intangible-item">
                        <strong>üòä Satisfa√ß√£o de Clientes ${groupComposition === 'externo' || groupComposition === 'misto' ? '(CR√çTICO com grupos externos)' : ''}</strong>
                        <p>Sistema rastreia hist√≥rico completo. Clientes n√£o precisam repetir solicita√ß√µes. ${groupComposition === 'externo' ? 'Com grupos de clientes/fornecedores, isso √© VITAL para manter contratos e reputa√ß√£o.' : groupComposition === 'misto' ? 'Em grupos mistos, a imagem profissional impacta diretamente vendas.' : 'Profissionalismo que diferencia da concorr√™ncia.'}</p>
                    </div>

                    <div class="intangible-item">
                        <strong>üõ°Ô∏è Compliance e Redu√ß√£o de Risco</strong>
                        <p>Hist√≥rico organizado de TODAS as comunica√ß√µes. Essencial para auditorias, disputas trabalhistas, reclama√ß√µes. Quem disse o qu√™, quando, e qual foi o follow-up.</p>
                    </div>

                    <div class="intangible-item">
                        <strong>üíº Qualidade de Vida = Reten√ß√£o de Talentos</strong>
                        <p><strong>Redu√ß√£o dr√°stica do burnout.</strong> Profissionais n√£o vivem mais com ansiedade de "ser√° que perdi algo importante?". Fim de semana SEM precisar checar grupos. ${businessType === 'varejo' || businessType === 'restaurante' ? 'Cr√≠tico em setores com alta rotatividade.' : ''}</p>
                    </div>

                    <div class="intangible-item">
                        <strong>üì± Escalabilidade Sustent√°vel</strong>
                        <p>Capacidade de adicionar ${(numUnits * 1.5).toFixed(0)}-${(numUnits * 2).toFixed(0)} ${businessType === 'varejo' ? 'lojas' : businessType === 'condominio' ? 'condom√≠nios' : businessType === 'restaurante' ? 'unidades' : businessType === 'farmacia' ? 'farm√°cias' : businessType === 'franquia' ? 'franquias' : 'pontos'} sem precisar contratar proporcionalmente. Crescimento com mesma estrutura.</p>
                    </div>

                    <div class="intangible-item">
                        <strong>üöÄ Vantagem Competitiva</strong>
                        <p>Enquanto concorrentes ainda usam WhatsApp ca√≥tico, sua empresa opera com processos organizados. Cliente percebe a diferen√ßa. Colaboradores sentem orgulho.</p>
                    </div>
                </div>

                <div class="pricing-section">
                    <h3 style="color: #1565c0; margin-bottom: 15px;">üí° An√°lise de Precifica√ß√£o</h3>
                    <p><strong>Investimento Atual:</strong> R$ 6.000 (setup) + R$ 500/m√™s</p>
                    <p style="margin-top: 10px;"><strong>Valor Justo de Mercado:</strong> Para uma opera√ß√£o do seu porte:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Setup: R$ ${(numGroups * 50).toLocaleString('pt-BR')} - R$ ${(numGroups * 80).toLocaleString('pt-BR')}</li>
                        <li>Mensalidade: R$ ${(numGroups * 8).toLocaleString('pt-BR')} - R$ ${(numGroups * 15).toLocaleString('pt-BR')}</li>
                    </ul>
                    <p style="margin-top: 15px; color: #2e7d32; font-weight: 600;">
                        ‚úÖ Mesmo com precifica√ß√£o de mercado, o ROI se manteria altamente positivo (150-300%).
                    </p>
                </div>

                <div class="methodology">
                    <h4>üìã Metodologia de C√°lculo</h4>
                    <p>Esta an√°lise segue frameworks de ROI utilizados por consultorias l√≠deres (McKinsey, BCG, Bain) e pesquisas acad√™micas:</p>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.6;">
                        <li><strong>Efici√™ncia Operacional:</strong> 45% baseado em estudos de automa√ß√£o de processos (conservador vs 60-70% t√≠picos em digital transformation)</li>
                        <li><strong>Redu√ß√£o de Retrabalho:</strong> 70% atrav√©s de organiza√ß√£o sistematizada e rastreabilidade</li>
                        <li><strong>Context Switching Cost:</strong> Baseado em pesquisas de Gloria Mark (UC Irvine) sobre interrup√ß√µes digitais e tempo de recupera√ß√£o de foco (5-23 minutos)</li>
                        <li><strong>Custo de Oportunidade:</strong> Valor do tempo de gestores realocado de triagem para atividades estrat√©gicas e presenciais</li>
                        <li><strong>Preven√ß√£o de Incidentes:</strong> 80% de redu√ß√£o atrav√©s de prioriza√ß√£o autom√°tica e alertas para situa√ß√µes cr√≠ticas</li>
                        <li><strong>Horizonte:</strong> An√°lise conservadora de 12 meses, sem projetar ganhos compostos ou efeitos de rede dos anos 2-5</li>
                        <li><strong>Custos Intang√≠veis:</strong> Burnout, turnover, satisfa√ß√£o de clientes n√£o monetizados mas documentados qualitativamente</li>
                    </ul>
                    <p style="margin-top: 15px; font-style: italic; color: #666;">
                        <strong>Nota:</strong> Valores ajustados para realidade brasileira de opera√ß√£o com WhatsApp como ferramenta cr√≠tica de neg√≥cio, comum em setores de varejo, administra√ß√£o predial, facilities, e servi√ßos de campo.
                    </p>
                </div>
            `;

            document.getElementById('results').innerHTML = resultsHTML;
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function generatePDF() {
            if (!window.calculationData) {
                alert('Por favor, calcule os benef√≠cios primeiro!');
                return;
            }

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const data = window.calculationData;
            const today = new Date().toLocaleDateString('pt-BR');
            
            // Configura√ß√µes
            const margin = 20;
            const pageWidth = doc.internal.pageSize.width;
            const pageHeight = doc.internal.pageSize.height;
            let yPos = margin;
            
            // Cabe√ßalho
            doc.setFillColor(30, 60, 114);
            doc.rect(0, 0, pageWidth, 40, 'F');
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(22);
            doc.setFont(undefined, 'bold');
            doc.text('PROPOSTA COMERCIAL', pageWidth / 2, 15, { align: 'center' });
            
            doc.setFontSize(14);
            doc.text('SkyBlue WhatsApp Intelligence', pageWidth / 2, 25, { align: 'center' });
            
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            doc.text(today, pageWidth / 2, 33, { align: 'center' });
            
            yPos = 50;
            
            // Dados do Cliente
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(16);
            doc.setFont(undefined, 'bold');
            doc.text('CLIENTE', margin, yPos);
            yPos += 8;
            
            doc.setFontSize(12);
            doc.setFont(undefined, 'normal');
            doc.text(`Empresa: ${data.businessName}`, margin, yPos);
            yPos += 6;
            if (data.contactName) {
                doc.text(`Contato: ${data.contactName}`, margin, yPos);
                yPos += 6;
            }
            doc.text(`Unidades: ${data.numUnits} | Grupos WhatsApp: ${data.numGroups}`, margin, yPos);
            yPos += 12;
            
            // Linha divis√≥ria
            doc.setDrawColor(102, 126, 234);
            doc.setLineWidth(0.5);
            doc.line(margin, yPos, pageWidth - margin, yPos);
            yPos += 10;
            
            // ROI Destacado
            doc.setFillColor(102, 126, 234);
            doc.roundedRect(margin, yPos, pageWidth - 2 * margin, 30, 3, 3, 'F');
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(14);
            doc.setFont(undefined, 'bold');
            doc.text('RETORNO SOBRE INVESTIMENTO', pageWidth / 2, yPos + 10, { align: 'center' });
            
            doc.setFontSize(24);
            doc.text(`${data.roi}%`, pageWidth / 2, yPos + 22, { align: 'center' });
            yPos += 40;
            
            // Investimento
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(14);
            doc.setFont(undefined, 'bold');
            doc.text('INVESTIMENTO', margin, yPos);
            yPos += 8;
            
            doc.setFontSize(11);
            doc.setFont(undefined, 'normal');
            doc.text(`Setup (Implanta√ß√£o): R$ ${data.setupFee.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`, margin, yPos);
            yPos += 6;
            doc.text(`Mensalidade: R$ ${data.monthlyFee.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`, margin, yPos);
            yPos += 6;
            doc.setFont(undefined, 'bold');
            doc.text(`Investimento Anual (Ano 1): R$ ${data.annualFee.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`, margin, yPos);
            yPos += 12;
            
            // Benef√≠cios
            doc.setFontSize(14);
            doc.text('BENEF√çCIOS ANUAIS', margin, yPos);
            yPos += 8;
            
            doc.setFontSize(11);
            doc.setFont(undefined, 'normal');
            doc.text(`Economia Total: R$ ${data.totalAnnualSavings.toLocaleString('pt-BR', {minimumFractionDigits: 0})}`, margin, yPos);
            yPos += 6;
            doc.setFont(undefined, 'bold');
            doc.setTextColor(40, 167, 69);
            doc.text(`Benef√≠cio L√≠quido: R$ ${data.netAnnualBenefit.toLocaleString('pt-BR', {minimumFractionDigits: 0})}`, margin, yPos);
            doc.setTextColor(0, 0, 0);
            yPos += 6;
            doc.setFont(undefined, 'normal');
            doc.text(`Payback: ${data.paybackMonths} meses`, margin, yPos);
            yPos += 12;
            
            // Benef√≠cios Detalhados
            doc.setFontSize(14);
            doc.setFont(undefined, 'bold');
            doc.text('DETALHAMENTO DOS BENEF√çCIOS MENSAIS', margin, yPos);
            yPos += 8;
            
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            
            const benefits = [
                { label: 'Ganho de Efici√™ncia Operacional', value: data.monthlySavings },
                { label: 'Elimina√ß√£o de Retrabalho', value: data.reworkSavings },
                { label: 'Recupera√ß√£o de Foco (gestores)', value: data.interruptionCost },
                { label: 'Preven√ß√£o de Incidentes Cr√≠ticos', value: data.incidentSavings }
            ];
            
            benefits.forEach(benefit => {
                if (yPos > pageHeight - 30) {
                    doc.addPage();
                    yPos = margin;
                }
                doc.text(`‚Ä¢ ${benefit.label}:`, margin + 5, yPos);
                doc.text(`R$ ${benefit.value.toLocaleString('pt-BR', {minimumFractionDigits: 0})}`, pageWidth - margin - 35, yPos);
                yPos += 6;
            });
            
            yPos += 6;
            doc.setFont(undefined, 'bold');
            doc.text(`Capacidade Recuperada: ${data.fteRecovered} FTE (funcion√°rios em tempo integral equivalente)`, margin, yPos);
            yPos += 12;
            
            // Nova p√°gina para benef√≠cios intang√≠veis
            doc.addPage();
            yPos = margin;
            
            doc.setFontSize(14);
            doc.setFont(undefined, 'bold');
            doc.text('BENEF√çCIOS INTANG√çVEIS (ALTO IMPACTO)', margin, yPos);
            yPos += 10;
            
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            
            const intangibles = [
                'Liberta√ß√£o dos Gestores: "Olho no SkyBlue, N√£o no WhatsApp"',
                `${data.managersOnCall} gestores podem largar o celular e voltar a focar na opera√ß√£o presencial`,
                '',
                'Elimina√ß√£o da Fadiga Cognitiva',
                'Redu√ß√£o de 80% das interrup√ß√µes atrav√©s de prioriza√ß√£o inteligente',
                '',
                'Satisfa√ß√£o e Reten√ß√£o de Clientes',
                'Hist√≥rico completo evita que clientes precisem repetir solicita√ß√µes',
                '',
                'Tomada de Decis√£o Baseada em Dados',
                'Gr√°ficos revelam padr√µes, problemas recorrentes e permitem gest√£o proativa',
                '',
                'Redu√ß√£o de Risco e Compliance',
                'Hist√≥rico organizado essencial para auditorias e disputas',
                '',
                'Qualidade de Vida e Reten√ß√£o de Talentos',
                'Redu√ß√£o dr√°stica do burnout. Fim de semana sem precisar checar grupos',
                '',
                'Escalabilidade',
                `Capacidade de adicionar ${Math.round(data.numUnits * 0.5)}-${Math.round(data.numUnits)} novas unidades sem contratar proporcionalmente`,
                '',
                'Vantagem Competitiva',
                'Opera como multinacional enquanto concorrentes usam WhatsApp ca√≥tico'
            ];
            
            intangibles.forEach(line => {
                if (yPos > pageHeight - 20) {
                    doc.addPage();
                    yPos = margin;
                }
                if (line === '') {
                    yPos += 3;
                } else if (line.includes(':')) {
                    doc.setFont(undefined, 'bold');
                    doc.text(`‚Ä¢ ${line}`, margin + 3, yPos);
                    doc.setFont(undefined, 'normal');
                    yPos += 5;
                } else {
                    doc.text(`  ${line}`, margin + 7, yPos);
                    yPos += 4.5;
                }
            });
            
            // Rodap√© final
            yPos = pageHeight - 25;
            doc.setFillColor(30, 60, 114);
            doc.rect(0, yPos, pageWidth, 25, 'F');
            
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text('SkyBlue - Transformando WhatsApp em Intelig√™ncia de Neg√≥cios', pageWidth / 2, yPos + 10, { align: 'center' });
            doc.setFontSize(8);
            doc.text('Esta proposta foi gerada pela Calculadora de ROI SkyBlue', pageWidth / 2, yPos + 17, { align: 'center' });
            
            // Salvar PDF
            const filename = `Proposta_SkyBlue_${data.businessName.replace(/ /g, '_')}_${today.replace(/\//g, '-')}.pdf`;
            doc.save(filename);
        }
    </script>
</body>
</html>
